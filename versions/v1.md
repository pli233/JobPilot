# JobPilot v1.2.0 - Agent Frontend Release

**Release Date:** 2026-01-10

## Overview

JobPilot v1.2 transforms the dashboard from a "facade" into a true **Agent Frontend** with real search capabilities. The frontend now directly calls backend APIs to search job boards, eliminating the need for manual Claude intervention for basic operations.

---

## What's New in v1.2

### Real Job Search (Agent Frontend)
- **Direct Search**: Search input now triggers real API calls to Firecrawl
- **Multi-Platform**: Search across Indeed, Glassdoor, and LinkedIn simultaneously
- **Auto-Save**: Search results are automatically saved to database
- **Platform Selection**: Checkbox selection for target platforms

### Search Architecture
```
User Input → Server Action → Firecrawl API → Parse Results → Save to DB → Display
```

### Backend Services
New `src/lib/services/` directory:
- `firecrawl.ts` - Direct Firecrawl REST API integration
- `job-search.ts` - Unified search service across platforms
- `auto-apply.ts` - Browser automation data preparation

### New Server Actions
- `search.ts` - Real job search with auto-save
- `auto-apply.ts` - Prepare data for chrome-devtools automation

---

## v1.1 (Previous) - Database Operations

### Real Database Operations
- All pages use Server Actions for data operations
- Dashboard stats calculated from real application data
- Jobs, Applications, Resumes all connected to SQLite

### Server Actions Layer
`src/lib/actions/` directory:
- `jobs.ts` - CRUD for saved jobs
- `applications.ts` - Application management + stats
- `resumes.ts` - Resume management
- `config.ts` - Preferences & Q&A templates
- `export.ts` - Excel export data preparation

---

## Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                         JobPilot Agent Frontend                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│   │   Search    │    │ Applications│    │   Settings  │        │
│   │   (Real)    │    │  (Kanban)   │    │  (Config)   │        │
│   └──────┬──────┘    └──────┬──────┘    └──────┬──────┘        │
│          │                  │                  │                │
│   ┌──────┴──────────────────┴──────────────────┴──────┐        │
│   │              Server Actions Layer                  │        │
│   │    search.ts  applications.ts  config.ts          │        │
│   └──────┬──────────────────┬──────────────────┬──────┘        │
│          │                  │                  │                │
│   ┌──────┴──────┐    ┌──────┴──────┐    ┌──────┴──────┐        │
│   │  Firecrawl  │    │   SQLite    │    │   Config    │        │
│   │    API      │    │ (Drizzle)   │    │   Files     │        │
│   └─────────────┘    └─────────────┘    └─────────────┘        │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘

MCP Tools (Claude-triggered):
├── chrome-devtools → Auto-fill applications
├── linkedin → Direct LinkedIn search
├── excel → Export to spreadsheet
└── firecrawl → Additional scraping
```

---

## Key Files

### Search System
```
src/lib/services/
├── firecrawl.ts         # Firecrawl REST API client
├── job-search.ts        # Unified multi-platform search
└── auto-apply.ts        # Browser automation helpers

src/lib/actions/
├── search.ts            # searchJobs() Server Action
└── auto-apply.ts        # initiateAutoApply() Server Action
```

### Jobs Page (Updated)
```typescript
// src/app/jobs/client.tsx
// Now includes:
// - Real search input with Search button
// - Platform checkboxes (Indeed, Glassdoor, LinkedIn)
// - Search results display
// - Tabbed view: "Search Jobs" / "Saved Jobs"
```

---

## API Reference

### Search Jobs
```typescript
import { searchJobs } from "@/lib/actions/search";

const { results, saved } = await searchJobs("Senior Python Engineer", {
  platforms: ["indeed", "glassdoor", "linkedin"],
  limit: 20,
  autoSave: true,  // Auto-save to database
});
```

### Auto-Apply
```typescript
import { initiateAutoApply } from "@/lib/actions/auto-apply";

const result = await initiateAutoApply(jobId, resumeId);
// Returns: instructions for chrome-devtools MCP
// - formData: pre-filled form fields
// - steps: automation steps
// - screenshotPath: where to save screenshot
```

### Firecrawl Service
```typescript
import { searchJobs, extractJobDetails } from "@/lib/services/firecrawl";

// Search via Firecrawl
const results = await searchJobs("Software Engineer site:indeed.com", 20);

// Extract details from job pages
const details = await extractJobDetails([
  "https://indeed.com/viewjob?jk=xxx",
  "https://glassdoor.com/job/xxx",
]);
```

---

## Environment Variables

```bash
# Required for job search
FIRECRAWL_API_KEY=fc-xxxxx

# Optional - LinkedIn MCP cookie
LINKEDIN_COOKIE=li_at=xxxxx
```

---

## Data Flow

### 1. Job Search (Now Automated)
```
User types query → Clicks "Search" →
Server Action searchJobs() → Firecrawl API →
Parse results → Save to SQLite → Display in UI
```

### 2. Auto-Apply (Claude-assisted)
```
User clicks "Apply" → Creates application record →
Prepares formData → Claude uses chrome-devtools →
Fills form → Uploads resume → Takes screenshot →
Updates application status
```

### 3. Export
```
User clicks "Export" → Prepares data →
Excel MCP writes → job_tracker.xlsx updated
```

---

## Running the Project

```bash
cd packages/dashboard
npm run dev
# Open http://localhost:3000
```

### Test Job Search
1. Go to Jobs page
2. Enter search query: "Software Engineer Remote"
3. Select platforms (Indeed, Glassdoor checked by default)
4. Click "Search" button
5. View results (auto-saved to database)

---

## Version History

| Version | Date | Description |
|---------|------|-------------|
| v1.2.0 | 2026-01-10 | Agent Frontend - Real search capability |
| v1.1.0 | 2026-01-10 | Database connectivity - Server Actions |
| v1.0.0 | 2026-01-10 | Initial UI - Mock data |

---

## Remaining for v2

- [ ] Job match scoring algorithm
- [ ] Dark mode persistence
- [ ] Resume file upload (currently manual placement)
- [ ] Application notes editing
- [ ] Batch operations (bulk apply, bulk delete)
- [ ] Search history / saved searches
- [ ] LinkedIn direct search (requires MCP server running)
- [ ] Email notifications integration
